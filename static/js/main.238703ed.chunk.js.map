{"version":3,"sources":["store.js","reducer.js","utils/index.js","reducers/tiles.js","utils/tiles.js","initialState.js","hooks/useStore.js","components/Tile/index.js","components/Tiles/index.js","components/TilesContainer/index.js","App.js","index.js"],"names":["React","createContext","combineReducers","reducers","tiles","state","action","type","payload","test","Object","keys","reduce","acc","reducer","objectSpread","defineProperty","findZero","find","_ref","title","isPossibleToMove","currentTile","_zero$position","position","zeroX","x","zeroY","y","_currentTile$position","currentX","currentY","getNewTiles","zero","map","item","saveState","obj","localStorage","setItem","JSON","stringify","savedTiles","parse","getItem","initialState","truePosition","useStore","getState","_useContext","useContext","Store","store","dispatch","Tile","props","_props$position","curX","curY","_props$truePosition","trueX","trueY","onClick","style","left","concat","top","isTruePosition","react_default","a","createElement","className","Tiles","data","components_Tile","assign","key","String","TilesContainer","_useStore","_useStore2","slicedToArray","components_Tiles","newTiles","App","_useReducer","useReducer","_useReducer2","src_store","Provider","value","components_TilesContainer","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.238703ed.chunk.js","sourcesContent":["import React, { useReducer } from \"react\";\n\n\n\nexport default React.createContext();","import { combineReducers } from './utils';\n\nimport tiles from './reducers/tiles';\n\nfunction test(state, action) {\n  return state;\n}\n\nexport default combineReducers({ tiles, test });\n","export const combineReducers = (reducers) => (state, action) => {\n  return Object.keys(reducers).reduce((acc, reducer) =>\n    ({ ...acc, [reducer]: reducers[reducer](state[reducer], action) }),{});\n};\n\n","export default (state, action) => {\n  switch (action.type) {\n    case 'CHANGE_POSITION': {\n      return action.payload;\n    }\n    default: return state\n  }\n}\n","export const findZero = tiles => tiles.find(({ title }) => title === 0);\n\nexport const isPossibleToMove = (tiles, currentTile) => {\n  const zero = findZero(tiles);\n  const { position: { x: zeroX, y: zeroY } } = zero;\n  const { position: { x: currentX, y: currentY } } = currentTile;\n  return ((currentX === zeroX + 1 || currentX === zeroX - 1) && currentY === zeroY)\n    || ((currentY === zeroY + 1 || currentY === zeroY - 1) && currentX === zeroX);\n\n};\n\nexport const getNewTiles = (tiles, currentTile) => {\n  const zero = findZero(tiles);\n  return tiles.map((item) => {\n    if (item.title === zero.title) {\n      return { ...zero, position: currentTile.position };\n    }\n    if (item.title === currentTile.title) {\n      return { ...currentTile, position: zero.position }\n    }\n    return item;\n  })\n};\n\nconst serialObj = obj => JSON.stringify(obj);\n\nexport const saveState = (tiles) => {\n  localStorage.setItem('tiles', serialObj(tiles));\n};\n\n\nexport const getState = () => JSON.parse(localStorage.getItem('tiles'));\n\n","import { getState } from \"./utils/tiles\";\n\nconst savedTiles = getState();\n\nconst starTiles = [\n  { position: {x: 3, y: 3}, truePosition: { x: 3, y: 3 }, title: 0 },\n  { position: {x: 3, y: 2}, truePosition: { x: 0, y: 0 }, title: 1 },\n  { position: {x: 3, y: 1}, truePosition: { x: 1, y: 0 }, title: 2 },\n  { position: {x: 1, y: 1}, truePosition: { x: 2, y: 0 }, title: 3 },\n  { position: {x: 2, y: 2}, truePosition: { x: 3, y: 0 }, title: 4 },\n  { position: {x: 2, y: 3}, truePosition: { x: 0, y: 1 }, title: 5 },\n  { position: {x: 1, y: 3}, truePosition: { x: 1, y: 1 }, title: 6 },\n  { position: {x: 3, y: 0}, truePosition: { x: 2, y: 1 }, title: 7 },\n  { position: {x: 0, y: 3}, truePosition: { x: 3, y: 1 }, title: 8 },\n  { position: {x: 2, y: 1}, truePosition: { x: 0, y: 2 }, title: 9 },\n  { position: {x: 1, y: 2}, truePosition: { x: 1, y: 2 }, title: 10 },\n  { position: {x: 2, y: 0}, truePosition: { x: 2, y: 2 }, title: 11 },\n  { position: {x: 0, y: 2}, truePosition: { x: 3, y: 2 }, title: 12 },\n  { position: {x: 1, y: 0}, truePosition: { x: 0, y: 3 }, title: 13 },\n  { position: {x: 0, y: 1}, truePosition: { x: 1, y: 3 }, title: 14 },\n  { position: {x: 0, y: 0}, truePosition: { x: 2, y: 3 }, title: 15 },\n];\n\nexport default {\n  tiles: savedTiles ? savedTiles : starTiles,\n};\n","import React, { useContext } from 'react';\n\nimport Store from '../store';\n\n\nfunction useStore(getState) {\n  const { store, dispatch } = useContext(Store);\n  return [getState(store), dispatch];\n}\n\nexport default useStore;\n","import React from 'react';\nimport './index.css'\n\nfunction Tile(props) {\n  const {\n    title,\n    position: { x: curX, y: curY },\n    truePosition: { x: trueX, y: trueY },\n    onClick,\n  } = props;\n  const style = {\n    left: `${25 * curX}%`,\n    top: `${25 * curY}%`,\n  };\n  const isTruePosition = curX === trueX && curY === trueY;\n  if(!title) return <div/>;\n  return (\n    <div\n      style={style}\n      className=\"tile-root\"\n      onClick={onClick}>\n      <span className={`tile-title ${isTruePosition ? 'true-position' : ''}`}>{title}</span>\n    </div>\n  )\n}\n\nexport default Tile;\n","import React from 'react';\n\nimport Tile from '../Tile';\n\nimport './index.css'\n\nfunction Tiles(props) {\n  const { onClick, data } = props;\n  return (\n    <div className=\"tiles-root\">\n      <div className=\"tiles-wrapper\">\n        {data.map(item => <Tile {...item} key={String(item.title)} onClick={onClick(item)}/>)}\n      </div>\n    </div>\n  )\n}\n\nexport default Tiles;\n","import React from 'react';\n\nimport { isPossibleToMove, getNewTiles, saveState } from '../../utils/tiles';\nimport useStore from \"../../hooks/useStore\";\n\nimport Tiles from '../Tiles';\n\n\nfunction TilesContainer() {\n  const [{ tiles }, dispatch] = useStore(state => ({ tiles: state.tiles }));\n\n  const onClick = (tiles) => (currentTile) => () => {\n    if (isPossibleToMove(tiles, currentTile)) {\n      const newTiles = getNewTiles(tiles, currentTile);\n      dispatch({ type: 'CHANGE_POSITION', payload: newTiles });\n      saveState(newTiles);\n    }\n  };\n\n  return <Tiles onClick={onClick(tiles)} data={tiles}/>\n}\n\nexport default TilesContainer;\n","import React, { useReducer } from 'react';\n\nimport Store from './store';\nimport reducer from './reducer'\nimport initialState from './initialState';\n\nimport TilesContainer from './components/TilesContainer';\n\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <div className=\"app-root\">\n      <Store.Provider value={{ store: state, dispatch }}>\n        <TilesContainer/>\n      </Store.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}