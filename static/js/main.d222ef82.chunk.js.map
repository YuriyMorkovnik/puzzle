{"version":3,"sources":["components/Tile/Tile.module.css","components/Tiles/Tiles.module.css","components/Button/Button.module.css","components/Header/Header.module.css","store.js","reducer.js","utils/index.js","utils/tiles.js","reducers/tiles.js","initialState.js","hooks/useStore.js","components/Tile/index.js","components/Tiles/index.js","components/TilesContainer/index.js","components/Button/index.js","components/Header/index.js","App.js","index.js"],"names":["module","exports","root","title","truePosition","wrapper","React","createContext","combineReducers","reducers","array","positions","tiles","state","action","type","payload","test","Object","keys","reduce","acc","reducer","objectSpread","defineProperty","findZero","find","_ref","isPossibleToMove","currentTile","_zero$position","position","zeroX","x","zeroY","y","_currentTile$position","currentX","currentY","getNewTiles","zero","map","item","saveState","obj","localStorage","setItem","JSON","stringify","clearStorage","removeItem","savedTiles","parse","getItem","randPositions","Array","length","fill","_ref2","newArray","randIndex","Math","ceil","random","randItem","concat","toConsumableArray","filter","i","startTiles","initialState","useStore","getState","_useContext","useContext","Store","store","dispatch","Tile","props","_props$position","curX","curY","_props$truePosition","trueX","trueY","onClick","style","left","top","isTruePosition","react_default","a","createElement","className","styles","Tiles","data","components_Tile","assign","key","String","TilesContainer","_useStore","_useStore2","slicedToArray","useCallback","newTiles","components_Tiles","Button","Header","restartGame","document","location","reload","components_Button","App","_useReducer","useReducer","_useReducer2","src_store","Provider","value","components_Header","components_TilesContainer","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.d222ef82.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Tile_root__RJ9us\",\"title\":\"Tile_title__1VxBS\",\"truePosition\":\"Tile_truePosition__2AwUr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Tiles_root__3q-sH\",\"wrapper\":\"Tiles_wrapper__3Gx6Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Button_root__3zunQ\",\"title\":\"Button_title__JMJgJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Header_root__3Rmfm\"};","import React, { useReducer } from \"react\";\n\n\n\nexport default React.createContext();","import { combineReducers } from './utils';\n\nimport tiles from './reducers/tiles';\n\nfunction test(state, action) {\n  return state;\n}\n\nexport default combineReducers({ tiles, test });\n","export const combineReducers = (reducers) => (state, action) => {\n  return Object.keys(reducers).reduce((acc, reducer) =>\n    ({ ...acc, [reducer]: reducers[reducer](state[reducer], action) }),{});\n};\n\n","export const findZero = tiles => tiles.find(({ title }) => title === 0);\n\nexport const isPossibleToMove = (tiles, currentTile) => {\n  const zero = findZero(tiles);\n  const { position: { x: zeroX, y: zeroY } } = zero;\n  const { position: { x: currentX, y: currentY } } = currentTile;\n  return ((currentX === zeroX + 1 || currentX === zeroX - 1) && currentY === zeroY)\n    || ((currentY === zeroY + 1 || currentY === zeroY - 1) && currentX === zeroX);\n\n};\n\nexport const getNewTiles = (tiles, currentTile) => {\n  const zero = findZero(tiles);\n  return tiles.map((item) => {\n    if (item.title === zero.title) {\n      return { ...zero, position: currentTile.position };\n    }\n    if (item.title === currentTile.title) {\n      return { ...currentTile, position: zero.position }\n    }\n    return item;\n  })\n};\n\nconst serialObj = obj => JSON.stringify(obj);\n\nexport const saveState = (tiles) => {\n  localStorage.setItem('tiles', serialObj(tiles));\n};\n\n\nexport const getState = () => JSON.parse(localStorage.getItem('tiles'));\n\nexport const clearStorage = () => localStorage.removeItem('tiles');\n\nexport const shuffleArray = (array) => {\n  return Array(array.length).fill(null).reduce(({ newArray, array }) => {\n    const randIndex = Math.ceil(Math.random() * array.length - 1);\n    const randItem = array[randIndex];\n    return { newArray: [...newArray, randItem], array: array.filter((item, i) => i !== randIndex) }\n  }, { newArray: [], array }).newArray;\n}\n\nexport const getTiles = (tiles, positions) => tiles.map((item, i) => ({...item, position: positions[i]}));\n","export default (state, action) => {\n  switch (action.type) {\n    case 'CHANGE_POSITION': {\n      return action.payload;\n    }\n    default: return state\n  }\n}\n","import { getState, shuffleArray, getTiles } from \"./utils/tiles\";\n\nconst savedTiles = getState();\n\nconst positions = [\n  {x: 0, y: 0},\n  {x: 0, y: 1},\n  {x: 1, y: 0},\n  {x: 0, y: 2},\n  {x: 2, y: 0},\n  {x: 1, y: 2},\n  {x: 2, y: 1},\n  {x: 0, y: 3},\n  {x: 3, y: 0},\n  {x: 1, y: 3},\n  {x: 2, y: 3},\n  {x: 2, y: 2},\n  {x: 1, y: 1},\n  {x: 3, y: 1},\n  {x: 3, y: 2},\n  {x: 3, y: 3}\n]\n\nconst tiles = [\n  { position: {x: 3, y: 3}, truePosition: { x: 3, y: 3 }, title: 0 },\n  { position: {x: 3, y: 2}, truePosition: { x: 0, y: 0 }, title: 1 },\n  { position: {x: 3, y: 1}, truePosition: { x: 1, y: 0 }, title: 2 },\n  { position: {x: 1, y: 1}, truePosition: { x: 2, y: 0 }, title: 3 },\n  { position: {x: 2, y: 2}, truePosition: { x: 3, y: 0 }, title: 4 },\n  { position: {x: 2, y: 3}, truePosition: { x: 0, y: 1 }, title: 5 },\n  { position: {x: 1, y: 3}, truePosition: { x: 1, y: 1 }, title: 6 },\n  { position: {x: 3, y: 0}, truePosition: { x: 2, y: 1 }, title: 7 },\n  { position: {x: 0, y: 3}, truePosition: { x: 3, y: 1 }, title: 8 },\n  { position: {x: 2, y: 1}, truePosition: { x: 0, y: 2 }, title: 9 },\n  { position: {x: 1, y: 2}, truePosition: { x: 1, y: 2 }, title: 10 },\n  { position: {x: 2, y: 0}, truePosition: { x: 2, y: 2 }, title: 11 },\n  { position: {x: 0, y: 2}, truePosition: { x: 3, y: 2 }, title: 12 },\n  { position: {x: 1, y: 0}, truePosition: { x: 0, y: 3 }, title: 13 },\n  { position: {x: 0, y: 1}, truePosition: { x: 1, y: 3 }, title: 14 },\n  { position: {x: 0, y: 0}, truePosition: { x: 2, y: 3 }, title: 15 },\n];\n\nconst randPositions = shuffleArray(positions);\n\nconst startTiles = getTiles(tiles, randPositions)\n\nexport default {\n  tiles: savedTiles ? savedTiles : startTiles,\n};\n","import React, { useContext } from 'react';\n\nimport Store from '../store';\n\n\nfunction useStore(getState) {\n  const { store, dispatch } = useContext(Store);\n  return [getState(store), dispatch];\n}\n\nexport default useStore;\n","import React from 'react';\nimport styles from './Tile.module.css'\n\nfunction Tile(props) {\n  const {\n    title,\n    position: { x: curX, y: curY },\n    truePosition: { x: trueX, y: trueY },\n    onClick,\n  } = props;\n  const style = {\n    left: `${25 * curX}%`,\n    top: `${25 * curY}%`,\n  };\n  const isTruePosition = curX === trueX && curY === trueY;\n  if(!title) return <div/>;\n  return (\n    <div\n      style={style}\n      className={styles.root}\n      onClick={onClick}>\n      <span className={`${styles.title} ${isTruePosition ? styles.truePosition : ''}`}>{title}</span>\n    </div>\n  )\n}\n\nexport default Tile;\n","import React from 'react';\n\nimport Tile from '../Tile';\n\nimport styles from './Tiles.module.css';\n\nfunction Tiles(props) {\n  const { onClick, data } = props;\n  return (\n    <div className={styles.root}>\n      <div className={styles.wrapper}>\n        {data.map(item => <Tile {...item} key={String(item.title)} onClick={onClick(item)}/>)}\n      </div>\n    </div>\n  )\n}\n\nexport default Tiles;\n","import React, { useCallback } from 'react';\n\nimport { isPossibleToMove, getNewTiles, saveState } from '../../utils/tiles';\nimport useStore from \"../../hooks/useStore\";\n\nimport Tiles from '../Tiles';\n\n\nfunction TilesContainer() {\n  const [{ tiles }, dispatch] = useStore(state => ({ tiles: state.tiles }));\n\n  const onClick = useCallback((tiles) => (currentTile) => () => {\n    if (isPossibleToMove(tiles, currentTile)) {\n      const newTiles = getNewTiles(tiles, currentTile);\n      dispatch({ type: 'CHANGE_POSITION', payload: newTiles });\n      saveState(newTiles);\n    }\n  }, []);\n\n  return <Tiles onClick={onClick(tiles)} data={tiles}/>\n}\n\nexport default TilesContainer;\n","import React from 'react';\r\n\r\nimport styles from './Button.module.css';\r\n\r\nfunction Button(props) {\r\n  const { title, onClick } = props;\r\n  return (\r\n    <div className={styles.root} onClick={onClick}>\r\n      <p className={styles.title} >{title}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Button;\r\n","import React, { useCallback } from 'react';\r\n\r\nimport Button from '../Button';\r\nimport { clearStorage } from '../../utils/tiles';\r\n\r\nimport styles from './Header.module.css';\r\n\r\nfunction Header() {\r\n\tconst restartGame = useCallback(() => {\r\n\t\tclearStorage();\r\n\t\tdocument.location.reload();\r\n\t}, [])\r\n\treturn (\r\n\t\t<div className={styles.root}>\r\n\t\t\t<Button title=\"Restart\" onClick={restartGame}/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Header;\r\n","import React, { useReducer } from 'react';\n\nimport Store from './store';\nimport reducer from './reducer'\nimport initialState from './initialState';\n\nimport TilesContainer from './components/TilesContainer';\nimport Header from './components/Header';\n\nimport './App.css';\n\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <div className=\"root\">\n      <Store.Provider value={{ store: state, dispatch }}>\n        <Header/>\n        <TilesContainer/>\n      </Store.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}